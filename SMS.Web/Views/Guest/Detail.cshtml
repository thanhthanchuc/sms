@model SMS.Models.EF.Guest
@{
    ViewBag.Title = "Detail";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="form-horizontal">
    <div class="card-header py-3">
        <h5 class="m-0 font-weight-bold text-primary">THÔNG TIN CHI TIẾT KHÁCH - NHÀ THẦU</h5>
    </div>
    <!--Cột bên trái dành cho form đăng ký-->
    <div class="col-md-12 row-form">
        <div class="column form-horizontal form-left col-md-6">
            <div class="form-group row-1 input-group">
                <label class="control-label col-md-3 top-space lb">Mã CNV <span class="red">(*)</span></label>
                <div class="col-md-7 input-group">
                    <div class="top-space">
                        <input readonly class="form-control input-previous-button col-md-12" id="txtEmpCodeBI" value="@Model.EmployeeID" />
                    </div>
                    &nbsp;
                    &nbsp;
                    <label id="info-BI-create" class="btn-primary btn btn-get-info top-space" title="Xem thông tin CNV" style="cursor: pointer">
                        <i class="fas fa-user"></i>&nbsp; Thông tin CNV
                    </label>
                </div>
            </div>

            <div class="form-group input-group">
                <label class="control-label col-md-3 top-space">Khách <span class="red">(*)</span></label>
                <div class="col-md-4">
                    <select readonly class="form-control">
                        <option value="0" @if (Model.Type == 0) { @: selected
                                }>
                            Khách
                        </option>
                        <option value="1" @if (Model.Type == 1) { @: selected
                                }>
                            Nhà thầu
                        </option>
                        <option value="2" @if (Model.Type == 2) { @: selected
                                }>
                            Lái xe
                        </option>
                    </select>
                </div>
                <div class="col-md-4 checkbox top-space">
                    @if (Model.Check_Guest.Value)
                    {
                        <label><input disabled type="checkbox" checked /> Khách nước ngoài</label>
                    }
                    else
                    {
                        <label><input disabled type="checkbox" /> Khách nước ngoài</label>
                    }
                </div>
            </div>

            <div class="form-group input-group">
                <label class="control-label col-md-3 top-space">Số thẻ khách</label>
                <div class="col-md-3">
                    <input readonly class="form-control input-previous-button" value="@Model.KVPNo" />
                </div>
            </div>

            <div class="form-group input-group">
                <label class="control-label col-md-3 top-space">Họ tên khách <span class="red">(*)</span></label>
                <div class="col-md-4">
                    <input readonly class="form-control input-previous-button" value="@Model.FullName" />
                </div>
            </div>

            <div class="form-group input-group">
                <label class="control-label col-md-3 top-space">CMTND/Hộ chiếu</label>
                <div class="col-md-4">
                    <input readonly class="form-control input-previous-button" value="@Model.IDCard" />
                </div>
            </div>

            <div class="form-group input-group">
                <label class="control-label col-md-3 top-space">Visa</label>
                <div class="col-md-4">
                    <input readonly class="form-control input-previous-button" value="@Model.Visa" />
                </div>
            </div>

            <div class="form-group input-group">
                <label class="control-label col-md-3 top-space">Nơi ở hiện tại</label>
                <div class="col-md-9">
                    <input readonly class="form-control input-previous-button" value="@Model.Hotel" />
                </div>
            </div>

            <div class="form-group input-group">
                <label class="control-label col-md-3 top-space">Công ty <span class="red">(*)</span></label>
                <div class="col-md-9">
                    <input readonly class="form-control input-previous-button" value="@Model.Company" />
                </div>
            </div>

            <div class="form-group input-group">
                <label class="control-label col-md-3 top-space">Số người <span class="red">(*)</span></label>
                <div class="col-md-3">
                    <input readonly class="form-control input-previous-button" value="@Model.NumbersOfPerson" />
                </div>
            </div>

            <div class="form-group input-group">
                <label class="control-label col-md-3">Lý do <span class="red">(*)</span></label>
                <div class="col-md-9">
                    <textarea readonly class="form-control col-md-12" style="resize: none"> @Model.Purpose</textarea>
                </div>
            </div>

            <div class="form-group input-group">
                <label class="control-label col-md-3 top-space">Số xe</label>
                <div class="col-md-9">
                    <input readonly class="form-control input-previous-button" value="@Model.TransportNo" />
                </div>
            </div>

            <div class="form-group input-group">
                <label class="control-label col-md-3 top-space">Giờ đăng ký vào <span class="red">(*)</span></label>
                <div class="col-md-4">
                    <input readonly class="form-control input-previous-button" id="estimated_date_in" value="@Model.EstimatedDateIn" />
                    <input readonly class="form-control input-previous-button" id="estimated_date_in" value="@Model.EstimatedTimeIn" />
                </div>
            </div>

            <div class="form-group input-group">
                <label class="control-label col-md-3 top-space">Giờ đăng ký ra <span class="red">(*)</span></label>
                <div class="col-md-4">
                    <input readonly class="form-control input-previous-button" id="estimated_date_out" value="@Model.EstimatedDateOut" />
                    <input readonly class="form-control input-previous-button" id="estimated_date_out" value="@Model.EstimatedTimeOut" />
                </div>
            </div>
        </div>

        <div class="column col-md-2 col-mid">
            <i class=" fas fa-play"></i>
        </div>


        <!--Cột bên phải dành cho thông tin nhân viên-->
        <div class="column form-horizontal form-right col-md-4">
            <!--Ảnh profile-->
            <div class="form-group col-12 profile-img">
                <div class="img-profile">
                    <img src="~/Assets/img/the-world.jpg" />
                </div>
            </div>
            <!--Thông tin profile-->
            <div class="form-group input-group profile">
                <label class="control-label col-md-3">Họ và tên <span class="red">(*)</span></label>
                <input readonly class="form-control input-previous-button col-9 txtFullNameBI" value="@Model.EmployeeName" />
                @*@Html.EditorFor(model => model.FullName, new { htmlAttributes = new { @readonly = "readonly", @class = "form-control input-previous-button col-9 txtFullNameBI" } })
                    @Html.ValidationMessageFor(model => model.FullName, "", new { @class = "text-danger info-required" })*@
            </div>
            <div class="form-group input-group profile">
                <label class="control-label col-md-3">Vị trí <span class="red">(*)</span></label>
                <input readonly class="form-control input-previous-button col-9 txtPositionBI" value="@Model.Position" />
                @*@Html.EditorFor(model => model.Position, new { htmlAttributes = new { @readonly = "readonly", @class = "form-control input-previous-button col-9 txtPositionBI" } })
                    @Html.ValidationMessageFor(model => model.Position, "", new { @class = "text-danger info-required" })*@
            </div>
            <div class="form-group input-group profile">
                <label class="control-label col-md-3">Phòng ban <span class="red">(*)</span></label>
                <input readonly class="form-control input-previous-button col-9 txtTeamBI" value="@Model.Team" />
                @*@Html.EditorFor(model => model.Team, new { htmlAttributes = new { @readonly = "readonly", @class = "form-control input-previous-button col-9 txtTeamBI" } })
                    @Html.ValidationMessageFor(model => model.Team, "", new { @class = "text-danger info-required" })*@
            </div>
        </div>
    </div>
</div>
<br />
<div class="bottom">
    <div style="width:100%; overflow-x:auto">
        <!--Bảng dữ liệu Về sớm-->
        <table class="table table-hover table-bordered" id="LE-table">
            <!--Tiêu đề cột-->
            <thead>
                <tr class="table-heading">
                    <th>Tên tài sản</th>
                    <th>Số serial</th>
                    <th>Số lượng</th>
                    <th>Đơn vị</th>
                    <th>Loại hàng hóa</th>
                    <th colspan="2">Thời gian đem trở ra</th>
                    <th colspan="4">ITT phê duyệt</th>
                    <th colspan="4">SMT phê duyệt</th>
                    <th colspan="4">FST phê duyệt</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Guest_Item)
                {
                    <tr>
                        <td>@item.Item</td>
                        <td>@item.Serial</td>
                        <td>@item.Quantity</td>
                        <td>@item.Unit</td>
                        <td>
                            @if (item.AssetType == 0) {
                                @:Hàng thường
                                }
                            @if (item.AssetType == 1) {
                                @:Hàng IT
                                }
                            @if (item.AssetType == 2) {
                                @:Hàng độc hại
                            }
                        </td>
                        @if (item.IsReturn.Value)
                        {
                            <td title="Có đem trở ra"><i class="fas fa-check-square"></i></td>
                        }
                        else
                        {
                            <td title="Không đem trở ra"><i class="fas fa-times"></i></td>
                        }
                        <td>@item.ReturnDate | @item.ReturnTime</td>
                        <td>
                            @if (!string.IsNullOrEmpty(item.SMT))
                            {
                                @:@item.SMT
                            }
                            else
                            {
                                <i class="fas fa-question"></i>
                            }
                        </td>
                        <td>
                            @if (item.SMT_Date != null)
                            {
                                @:@item.SMT_Date
                            }
                            else
                            {
                                <i class="fas fa-question"></i>
                            }
                        </td>
                        <td>
                            @if (!string.IsNullOrEmpty(item.SMT_Remark))
                            {
                                @:@item.SMT_Remark
                            }
                            else
                            {
                                <i class="fas fa-question"></i>
                            }
                        </td>
                        <td>
                            @if (item.SMT_Status != null)
                            {
                                if (item.SMT_Status == 1)
                                {
                                    <i class="fas fa-check-square"></i>
                                }
                                else
                                {
                                    <i class="fas fa-times"></i>
                                }
                            }
                            else
                            {
                                <i class="fas fa-question"></i>
                            }
                        </td>

                        <td>
                            @if (!string.IsNullOrEmpty(item.ITT))
                            {
                                @:@item.ITT
                            }
                            else
                            {
                                <i class="fas fa-question"></i>
                            }
                        </td>
                        <td>
                            @if (item.ITT_Date != null)
                            {
                                @:@item.ITT_Date
                            }
                            else
                            {
                                <i class="fas fa-question"></i>
                            }
                        </td>
                        <td>
                            @if (!string.IsNullOrEmpty(item.ITT_Remark))
                            {
                                @:@item.ITT_Remark
                            }
                            else
                            {
                                <i class="fas fa-question"></i>
                            }
                        </td>
                        <td>
                            @if (item.ITT_Status != null)
                            {
                                if (item.ITT_Status == 1)
                                {
                                    <i class="fas fa-check-square"></i>
                                }
                                else
                                {
                                    <i class="fas fa-times"></i>
                                }
                            }
                            else
                            {
                                <i class="fas fa-question"></i>
                            }
                        </td>

                        <td>
                            @if (!string.IsNullOrEmpty(item.FST))
                            {
                                @:@item.FST
                            }
                            else
                            {
                                <i class="fas fa-question"></i>
                            }
                        </td>
                        <td>
                            @if (item.FST_Date != null)
                            {
                                @:@item.FST_Date
                            }
                            else
                            {
                                <i class="fas fa-question"></i>
                            }
                        </td>
                        <td>
                            @if (!string.IsNullOrEmpty(item.FST_Remark))
                            {
                                @:@item.FST_Remark
                            }
                            else
                            {
                                <i class="fas fa-question"></i>
                            }
                        </td>
                        <td>
                            @if (item.FST_Status != null)
                            {
                                if (item.FST_Status == 1)
                                {
                                    <i class="fas fa-check-square"></i>
                                }
                                else
                                {
                                    <i class="fas fa-times"></i>
                                }
                            }
                            else
                            {
                                <i class="fas fa-question"></i>
                            }
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    <div style="text-align: center">
        <label id="return-history" class="btn-cancel btn top-space" title="Trở lại" style="cursor: pointer">
            <i class="fas fa-arrow-left"></i>&nbsp; Trở lại
        </label>
    </div>
</div>
@section scripts{
    <script>
        $("#return-history").on("click", () => {
            window.location.href = "/Guest/History"
        })
    </script>
}